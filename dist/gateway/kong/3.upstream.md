[toc]

## upstream(上有服务)

1. 将流量转发到的多个 target 的集合, target 可以是域名/ip+port
2. 功能

   - **负载均衡**: `基于 DNS 的负载均衡` || `Ring-balancer(环形均衡器)`
   - 健康检查: 主动检查 || 被动检查, 将流量转发至其它健康的 target
   - 熔断: 根据健康检查的状态, 对客户端请求进行熔断, 防止后端级联服务雪崩

## 负载均衡: [hash 一致性算法](https://mp.weixin.qq.com/s/76R-JD5zWzixrBQb6WYjXQ)

1. 轮询、加权轮询、随机选择

### DNS 负载均衡

### 环形均衡器: Ring-balancer

## 健康检查

1. 主动检查
2. 被动检查

## target

---

## reference

1. https://www.jianshu.com/p/b44400618c69
