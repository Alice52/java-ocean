## Builder

1. Builder 模式是一步一步创建一个复杂对象的创建型模式:
   - 允许用户在不知道内部构建细节的情况下, 可以更**精细的控制对象的构造流程**
2. **为了将构建复杂对象的过程和它的部件解耦**
   - 使得**同样的构建过程可以创建不同的表示**
   - 使得构建过程和部件的表示隔离开来, 两者之间的耦合度也降到最低
3. 实现方式

   - 一般都是静态内部类的 Builder
   - Buider#build 会调用对象的构造函数

## 过程

1. lombok code

   ```java
   @Slf4j
   @Data
   @Builder
   @Accessors(chain = true)
   @AllArgsConstructor
   @NoArgsConstructor
   @EqualsAndHashCode
   @ToString
   public class Person {

       private int age;
       private String name;
       private boolean gender;

       public static void main(String[] args) {

           PersonBuilder builder = Person.builder().name("zack");
           Person zack = builder.build();
       }
   }
   ```

2. explain code

   ```java
   import org.slf4j.Logger;
   import org.slf4j.LoggerFactory;

   public class Person {
       private static final Logger log = LoggerFactory.getLogger(top.hubby.builder.app.model.Person.class);
       private int age;
       private String name;
       private boolean gender;

       public static void main(String[] args) {
           top.hubby.builder.app.model.Person.PersonBuilder builder = builder().name("zack");
           top.hubby.builder.app.model.Person zack = builder.build();
       }

       public static top.hubby.builder.app.model.Person.PersonBuilder builder() {
           return new top.hubby.builder.app.model.Person.PersonBuilder();
       }

       public int getAge() {
           return this.age;
       }

       public String getName() {
           return this.name;
       }

       public boolean isGender() {
           return this.gender;
       }

       public top.hubby.builder.app.model.Person setAge(int age) {
           this.age = age;
           return this;
       }

       public top.hubby.builder.app.model.Person setName(String name) {
           this.name = name;
           return this;
       }

       public top.hubby.builder.app.model.Person setGender(boolean gender) {
           this.gender = gender;
           return this;
       }

       public Person(int age, String name, boolean gender) {
           this.age = age;
           this.name = name;
           this.gender = gender;
       }

       public Person() {
       }

       public boolean equals(Object o) {
           if (o == this) {
               return true;
           } else if (!(o instanceof top.hubby.builder.app.model.Person)) {
               return false;
           } else {
               top.hubby.builder.app.model.Person other = (top.hubby.builder.app.model.Person)o;
               if (!other.canEqual(this)) {
                   return false;
               } else if (this.getAge() != other.getAge()) {
                   return false;
               } else {
                   Object this$name = this.getName();
                   Object other$name = other.getName();
                   if (this$name == null) {
                       if (other$name == null) {
                           return this.isGender() == other.isGender();
                       }
                   } else if (this$name.equals(other$name)) {
                       return this.isGender() == other.isGender();
                   }

                   return false;
               }
           }
       }

       protected boolean canEqual(Object other) {
           return other instanceof top.hubby.builder.app.model.Person;
       }

       public int hashCode() {
           int PRIME = true;
           int result = 1;
           int result = result * 59 + this.getAge();
           Object $name = this.getName();
           result = result * 59 + ($name == null ? 43 : $name.hashCode());
           result = result * 59 + (this.isGender() ? 79 : 97);
           return result;
       }

       public String toString() {
           return "Person(age=" + this.getAge() + ", name=" + this.getName() + ", gender=" + this.isGender() + ")";
       }

       public static class PersonBuilder {
           private int age;
           private String name;
           private boolean gender;

           PersonBuilder() {
           }

           public top.hubby.builder.app.model.Person.PersonBuilder age(int age) {
               this.age = age;
               return this;
           }

           public top.hubby.builder.app.model.Person.PersonBuilder name(String name) {
               this.name = name;
               return this;
           }

           public top.hubby.builder.app.model.Person.PersonBuilder gender(boolean gender) {
               this.gender = gender;
               return this;
           }

           public top.hubby.builder.app.model.Person build() {
               return new top.hubby.builder.app.model.Person(this.age, this.name, this.gender);
           }

           public String toString() {
               return "Person.PersonBuilder(age=" + this.age + ", name=" + this.name + ", gender=" + this.gender + ")";
           }
       }
   }
   ```
