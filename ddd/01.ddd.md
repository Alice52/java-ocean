## Introduce

1. DDD 分层架构视图

   - 展现层: 负责向用户显示信息和解释用户指令
   - 应用层:
     1. 很薄, 主要面向用户用例操作, **协调和指挥**领域对象来完成业务逻辑
     2. 应用层还可进行安全认证, 权限校验, 分布式和持久化事务控制或向外部应用发送基于事件的消息等
   - **领域层**
     1. **实现全部业务逻辑**并且通过各种**校验**手段保证业务正确性
     2. 包含业务所涉及的**领域对象[实体/值对象]**, 领域服务以及它们之间的**关系**
     3. 负责**表达业务概念**, 业务状态以及业务规则, 具体表现形式就是领域模型
   - 基础层
     1. 基础层为各层提供通用的技术能力
     2. 为应用层传递消息, 提供 API 管理, 为领域层提供数据库持久化机制

   ![avatar](/static/image/ddd/introduce-ddd-layer.png)

2. [社会]领域建模的方法
   - 事件风暴:
   - [人]实体 & 值对象: **个体化的对象**
     1. 实体: 对应业务对象[po], 具有业务属性和**业务行为**
     2. 值对象: 不变的属性集合, 对实体的**状态**和**特征**进行描述
   - [组织]聚合 & 聚合根: 协调实体值对象共同组成完整业务及处理
     1. 聚合: crud 的单元, 每一个聚合对应一个仓储
     2. [负责人]聚合根: 单一职责和高内聚原则, 避免聚合、实体之间数据不一致性, 外部对象不能直接访问聚合内实体
   - 限界上下文:
   - 领域建模: ，领域层包含了多个聚合，共同实现核心业务逻辑
   - **领域事件**: 这种事件发生后通常会导致进一步的业务操作
3. 思考维度

   - 新增的模型没有给你带来收益。比如有没有帮助系统解耦，有没有提升业务语义表达能力的提升，有没有提升系统的可维护性和可测性等等
   - 统一语言、边界上下文、防腐层(应用不要直接依赖外域的信息，要把外域的信息转换成自己领域上下文（Context）的实体再去使用，从而实现本域和外部依赖的解耦)
   - 领域建模，就是对问题域进行抽象，找到核心概念（实体），然后再构建实体之间的关系的过程: 组合，使用，继承、泛化
